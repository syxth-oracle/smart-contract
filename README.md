# Syxth Oracle Smart Contract

This folder contains the on-chain Solana smart contract(s) for the Solymarket prediction markets protocol, built with [Anchor](https://www.anchor-lang.com/).

The main program is `solana_predict`, deployed to Solana and used by the backend and frontend in this monorepo.

## Tech Stack

- Solana Program Library (Rust)
- Anchor framework
- Anchor CLI + `Anchor.toml` for environment configuration
- TypeScript test suite via `ts-mocha`

## Project Layout

- `programs/` – Anchor Rust program(s) (on-chain logic)
- `tests/` – TypeScript integration tests for the programs
- `migrations/` – Anchor deploy/migration scripts
- `scripts/` – Helper scripts (e.g. closing markets)
- `target/` – Build artifacts (generated by Anchor/Cargo)

## Prerequisites

- Rust toolchain (see `rust-toolchain.toml`)
- Solana CLI
- Node.js + Yarn or pnpm
- Anchor CLI (`anchor`)

Ensure you have a keypair at `id.json` or adjust `Anchor.toml`'s `[provider]` section.

## Setup

Install JavaScript dependencies (from the `smart_contract` folder):

```bash
# If you use yarn
yarn install

# Or with pnpm
pnpm install
```

Anchor and Rust dependencies are handled via `cargo` and Anchor itself.

## Building

From the `smart_contract` directory:

```bash
anchor build
```

This compiles the `solana_predict` program and writes the IDL and artifacts under `target/`.

## Testing

The `Anchor.toml` defines a `test` script that runs the TypeScript tests.

```bash
anchor test
# or equivalently
yarn test
```

Tests live under `tests/` and exercise the on-chain program via the generated TypeScript types.

## Deployment

Anchor networks and program IDs are configured in `Anchor.toml` under `[programs.localnet]` and `[programs.devnet]`.

To deploy to localnet:

```bash
anchor deploy
```

To deploy to another cluster, configure the provider and programs in `Anchor.toml` and ensure your wallet has sufficient SOL.

## Contributing

Contributions are welcome. For significant changes:

1. Open an issue describing the problem or feature.
2. Discuss design if the change is non-trivial.
3. Submit a PR with:
   - Focused commits
   - Updated tests
   - Any relevant notes in this README if behavior or interfaces change

## Security

If you discover a vulnerability or security-sensitive bug, please avoid filing a public issue. Instead, contact the maintainers privately so we can coordinate a fix before disclosure.

## License

This smart contract is intended to be open source. Please refer to the repository's root LICENSE file (or add one if it is missing) for the exact licensing terms.
